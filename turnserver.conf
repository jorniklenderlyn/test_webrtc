# /etc/turnserver.conf

# --------------------------------------------
# NETWORK SETTINGS
# --------------------------------------------

# Listen on standard port (UDP/TCP)
listening-port=3478

# Also listen on port 443 for TCP (to bypass firewalls)
alt-listening-port=3478

# Use your server's PUBLIC IP (required for NAT traversal)
# external-ip=YOUR_PUBLIC_IP

# If behind NAT, also specify local IP (optional but recommended)
# listening-ip=192.168.1.10

# Allow both UDP and TCP relay
no-tls
no-dtls

# --------------------------------------------
# AUTHENTICATION
# --------------------------------------------

# Static user: format "username:password"
# You can add multiple lines for more users
user=test:secrete

# Realm (must match what clients expect; use your domain)
# realm=localhost

# --------------------------------------------
# SECURITY & PERFORMANCE
# --------------------------------------------

# Disable outdated/weak protocols
no-sslv3
no-tlsv1
no-tlsv1_1

# Reduce log spam (change to 'verbose' for debugging)
log-file=/var/log/turn.log
simple-log

# Optional: set process user/group after startup
# proc-user=turnserver
# proc-group=turnserver

# Bandwidth limits (optional)
# bps-capacity=2000000   # ~2 Mbps per session
# total-quota=10         # max concurrent sessions

# --------------------------------------------
# FIREWALL / ADVANCED
# --------------------------------------------

# Open relay ports range (for media)
min-port=49152
max-port=65535

# Enable mobility (if clients switch networks)
mobility

# --------------------------------------------
# DISABLE STUN IF YOU ONLY WANT TURN (optional)
# --------------------------------------------
# stun-only
